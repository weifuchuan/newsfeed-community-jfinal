(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{367:function(e,t,n){"use strict";n(366);var o=n(368),r=(n(396),n(424)),i=n(30),a=n(29),c=n(1),l=n.n(c),u=n(12),f=(n(373),n(3));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p,d=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;0<=c;c--)(r=e[c])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},b=function(i,a,c,l){return new(c||(c=Promise))(function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(n,o)}r((l=l.apply(i,a||[])).next())})},m=function(n,o){var r,i,a,e,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=o.call(n,c)}catch(e){t=[6,e],i=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visible=!1,e.logout=function(){return b(e,void 0,void 0,function(){return m(this,function(e){switch(e.label){case 0:return[4,Object(i.a)("/logout")];case 1:return e.sent(),window.location.reload(),[2]}})})},e}return d(e,t),e.prototype.render=function(){var t=this;return l.a.createElement("div",{className:"Container",ref:this.props.containerRef},l.a.createElement("div",null,l.a.createElement("div",{className:"navbar"},l.a.createElement("div",null,l.a.createElement("span",{onClick:function(){return u.Control.go("/")}},"随便写的社区")),l.a.createElement("div",null,l.a.createElement(r.a,{placement:"bottomRight",title:l.a.createElement("span",{style:{padding:"0.5em"}},this.props.store.me.username),content:l.a.createElement("div",{className:"my-operations"},l.a.createElement("div",{onClick:function(){return u.Control.go("/my"),t.visible=!1}},l.a.createElement("span",null,"我的主页")),l.a.createElement("div",{onClick:function(){return u.Control.go("/message"),t.visible=!1}},l.a.createElement("span",null,"我的私信")),l.a.createElement("div",{onClick:this.logout},l.a.createElement("span",null,"退出登录"))),trigger:"click",visible:this.visible,onVisibleChange:function(e){return t.visible=e}},l.a.createElement("div",{onClick:function(){return t.visible=!0}},l.a.createElement(o.a,{className:"avatar",shape:"square",size:"large",src:this.props.store.me.avatar}))))),this.props.children))},y([f.j],e.prototype,"visible",void 0),e=y([Object(a.b)("store"),a.c],e)}(l.a.Component);t.a=h},373:function(e,t,n){"use strict";var o=n(374);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(75)(o,r);o.locals&&(e.exports=o.locals)},374:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,".Container {\n  width: 100%;\n  height: 100%;\n  background-color: #EAEAEF;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  overflow: auto; }\n  .Container > div:first-child {\n    padding: 0.5em;\n    position: relative; }\n    @media (max-width: 640px) {\n      .Container > div:first-child {\n        width: 100%; } }\n    @media (min-width: 641px) and (max-width: 1024px) {\n      .Container > div:first-child {\n        width: 80%; } }\n    @media (min-width: 1025px) {\n      .Container > div:first-child {\n        width: 60%; } }\n    .Container > div:first-child .navbar {\n      -webkit-box-shadow: 0px 0px 0.5em #535353;\n              box-shadow: 0px 0px 0.5em #535353;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      background-color: #fff;\n      border-radius: 0.5em;\n      padding: 1em;\n      margin: 1em 0 1em; }\n      .Container > div:first-child .navbar > div:first-child > span {\n        font-size: 1.5em;\n        font-weight: bold;\n        cursor: pointer; }\n      .Container > div:first-child .navbar > div:nth-child(2) {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex; }\n        .Container > div:first-child .navbar > div:nth-child(2) .avatar {\n          cursor: pointer; }\n\n.my-operations > div {\n  padding: 0.5em;\n  cursor: pointer; }\n\n.my-operations > div:hover {\n  background-color: #EAEAEF; }\n",""])},553:function(e,t,n){var o=n(554);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(75)(o,r);o.locals&&(e.exports=o.locals)},554:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,"",""])},555:function(e,t,n){"use strict";var o=n(556);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(75)(o,r);o.locals&&(e.exports=o.locals)},556:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,".NewsfeedItem {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  padding: 1em;\n  -webkit-box-shadow: 0px 0px 0.5em #535353;\n          box-shadow: 0px 0px 0.5em #535353;\n  background-color: #fff;\n  border-radius: 0.5em;\n  padding: 1em;\n  margin: 0 0 1em; }\n",""])},684:function(e,t,n){"use strict";n.r(t);n(241);var o=n(79),r=n(1),i=n.n(r),a=(n(553),n(29)),c=n(367),l=n(3),u=n(30);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;0<=c;c--)(r=e[c])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},p=function(i,a,c,l){return new(c||(c=Promise))(function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(n,o)}r((l=l.apply(i,a||[])).next())})},d=function(n,o){var r,i,a,e,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=o.call(n,c)}catch(e){t=[6,e],i=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},y=function(){function c(){this.id=0,this.accountId=0,this.refType=0,this.refId=0,this.createAt=0,this.avatar="",this.username=""}return c.from=function(e){var t=new c;for(var n in e)t[n]=e[n];return t},c.paginate=function(i,a){return void 0===a&&(a=1),p(this,void 0,Promise,function(){var t,n,o,r;return d(this,function(e){switch(e.label){case 0:return[4,Object(u.c)("/newsfeed",{accountId:i,p:a})];case 1:if("ok"===(t=e.sent().data).state)return n=t.newsfeeds.map(c.from),o=t.pageNumber,r=t.totalPage,[2,{newsfeeds:n,pageNumber:o,totalPage:r}];throw"fail"}})})},s([l.j],c.prototype,"id",void 0),s([l.j],c.prototype,"accountId",void 0),s([l.j],c.prototype,"refType",void 0),s([l.j],c.prototype,"refId",void 0),s([l.j],c.prototype,"refParentType",void 0),s([l.j],c.prototype,"refParentId",void 0),s([l.j],c.prototype,"createAt",void 0),s([l.j],c.prototype,"avatar",void 0),s([l.j],c.prototype,"username",void 0),s([l.j],c.prototype,"title",void 0),s([l.j],c.prototype,"toUsername",void 0),s([l.j],c.prototype,"toAvatar",void 0),s([l.j],c.prototype,"content",void 0),c}();n(555);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m,h=(m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;0<=c;c--)(r=e[c])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){this.props.newsfeed;return i.a.createElement("div",{className:"NewsfeedItem"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))},t=v([Object(a.b)("store"),a.c],t)}(i.a.Component);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x,j=(x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":g(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;0<=c;c--)(r=e[c])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},E=function(i,a,c,l){return new(c||(c=Promise))(function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(n,o)}r((l=l.apply(i,a||[])).next())})},O=function(n,o){var r,i,a,e,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=o.call(n,c)}catch(e){t=[6,e],i=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newsfeeds=[],e.pageNumber=1,e.totalPage=1,e.loading=!1,e}return j(e,t),e.prototype.render=function(){return i.a.createElement(c.a,null,this.newsfeeds.map(function(e){return i.a.createElement(w,{newsfeed:e,key:e.id})}),i.a.createElement(o.a,{size:"large",spinning:this.loading,style:{position:"fixed",left:"50vw",top:"50vh"}}))},e.prototype.componentDidMount=function(){E(this,void 0,void 0,function(){var t,n,o,r,i=this;return O(this,function(e){switch(e.label){case 0:return this.loading=!0,[4,y.paginate(this.props.store.me.id)];case 1:return t=e.sent(),n=t.newsfeeds,o=t.pageNumber,r=t.totalPage,Object(l.k)(function(){i.newsfeeds=Object(l.j)(n),console.log(Object(l.m)(n)),i.pageNumber=o,i.totalPage=r,i.loading=!1}),[2]}})})},k([l.j],e.prototype,"newsfeeds",void 0),k([l.j],e.prototype,"pageNumber",void 0),k([l.j],e.prototype,"totalPage",void 0),k([l.j],e.prototype,"loading",void 0),e=k([Object(a.b)("store"),a.c],e)}(i.a.Component);t.default=P}}]);